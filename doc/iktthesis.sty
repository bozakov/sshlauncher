\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{iktthesis}[2009/08/16 v0.1 Typographic Style for an IKT thesis]
\RequirePackage{ifthen}
    \newboolean{@exam} % exam-version includes exam-questions - default is "false"
    \newboolean{@big} % short version does not include paper-appendix - default ist "true"
    \newboolean{@abbrev} % automaticaly generate acronyms
    \newboolean{@english} % use englich version
    \newboolean{@wiwi} % use special version for Wirtschaftsingenieure
%*******************************************************************************
% Options 
%*******************************************************************************
\DeclareOption{exam}{\setboolean{@exam}{true}}
\DeclareOption{big}{\setboolean{@big}{true}}
\DeclareOption{abbrev}{\setboolean{@abbrev}{true}}
\DeclareOption{wiwi}{\setboolean{@wiwi}{true}}
\DeclareOption{english}{\setboolean{@english}{true}}
\ProcessOptions\relax

%*******************************************************************************
% Commands for EXAM, BIG, WIWI end ENGLISH options 
%*******************************************************************************
\newcommand{\condBIG}[1]{\ifthenelse{\boolean{@big}}{#1}{}}
\newcommand{\condEXAM}[1]{\ifthenelse{\boolean{@exam}}{#1}{}}
\newcommand{\condWIWI}[2]{\ifthenelse{\boolean{@wiwi}}{#1}{#2}}
\newcommand{\condENGLISH}[1]{\ifthenelse{\boolean{@english}}{#1}{}}

%*******************************************************************************
% Theorems, Lemmas, Corollaries, and Proofs
%*******************************************************************************
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{theorem}
\theoremstyle{plain} {
 \newtheorem{Theorem}{Theorem}
 \newtheorem{Proposition}{Proposition}
 \newtheorem{Lemma}{Lemma}
 \newtheorem{Corollary}{Corollary}
}
\theoremstyle{plain} {{\theorembodyfont{\normalfont}
\newtheorem{Definition}{Definition}}
\newcommand{\qed}{\hfill \mbox{\raggedright \rule{.07in}{.1in}}}
\newenvironment{proof}{\vspace{1ex}\noindent{\bf Proof}\hspace{0.5em}}
	{\hfill\qed\vspace{2ex}}

%*******************************************************************************
% Acronyms - TODO: english version 
%*******************************************************************************
\ifthenelse{\boolean{@abbrev}}%
{%
    \RequirePackage[intoc]{nomencl}
    \let\abbrev\nomenclature
    \renewcommand{\nomname}{Abkürzungsverzeichnis}
    \setlength{\nomlabelwidth}{.25\hsize}
    \renewcommand{\nomlabel}[1]{#1 \dotfill}
    \setlength{\nomitemsep}{-\parsep}
}%
{%
    \relax
}%

%*******************************************************************************
% Tabularx - Spalten 
%*******************************************************************************
\RequirePackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}         % zentrierte Spalten mit optimaler Breite
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}  % zentrierte Spalten mit Breitenangabe 
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}} % rechtsbündig mit Breitenangabe 

%*******************************************************************************
% Colors 
%*******************************************************************************
\RequirePackage{color}
\definecolor{shadecolor}{rgb}{1,1,.8}
\definecolor{framecolor}{rgb}{.1,.1,.1}

%*******************************************************************************
% Fancy, colored frames
%*******************************************************************************
\RequirePackage{color}
\RequirePackage{framed}

% general colored frame environment
\newenvironment{fshaded}{%
    \def\FrameCommand{\fcolorbox{framecolor}{shadecolor}}%
    \MakeFramed {\advance\hsize-\width \FrameRestore}}%
  {\endMakeFramed}

% new colored itemize environment
\newenvironment{fitemize}{%
    \definecolor{shadecolor}{rgb}{1,1,.8}%
    \definecolor{framecolor}{rgb}{.1,.1,.1}%
    \begin{fshaded}\vspace{2mm}\begin{minipage}{0.9\textwidth}\begin{itemize}}%
  {\end{itemize}\end{minipage}\vspace{2mm}\end{fshaded}}

% new colored assignment environment
\newenvironment{fassignment}{%
    \definecolor{shadecolor}{rgb}{1,1,.8}%
    \definecolor{framecolor}{rgb}{.1,.1,.1}%
    \graffito{\vspace{4.0mm}\newline\includegraphics[width=15mm]{gfx/baustelle}}%
    \begin{fshaded}\vspace{2mm}\begin{minipage}{0.9\textwidth}}%
  {\end{minipage}\vspace{2mm}\end{fshaded}}

%*******************************************************
% Add additional packages
%*******************************************************
\RequirePackage{pdfpages}
\RequirePackage{chngpage}
